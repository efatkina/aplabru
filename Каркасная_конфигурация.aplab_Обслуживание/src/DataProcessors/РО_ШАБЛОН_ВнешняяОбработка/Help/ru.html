<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.10240.16542"></meta></head><body><a style="TEXT-DECORATION: ; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium 'Times New Roman'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px" name="issogl2_созданиеновогоотчетаилиобработки">
<h4 style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Arial">Создание нового отчета или обработки</h4></a><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(0,0,0); FONT: medium 'Times New Roman'; DISPLAY: inline !important; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></span>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Дополнительные отчеты и обработки могут быть глобальными (виды «ДополнительнаяОбработка» и «ДополнительныйОтчет») и назначаемыми (виды «ЗаполнениеОбъекта», «Отчет», «ПечатнаяФорма» и «СозданиеСвязанныхОбъектов»). Глобальные используются независимо от объектов информационной базы и размещаются в глобальном командном интерфейсе. Назначаемые используются вместе с объектами, для которых они предназначаются. См. пример назначаемых обработок в справочнике _<b>ДемоКонтрагенты</b><span class="Apple-converted-space"> </span>и в документе _<b>ДемоСчетНаОплатуПокупателю</b><span class="Apple-converted-space"> </span>в демонстрационной конфигурации. Общую информацию о работе с внешними отчетами и обработками можно найти в разделе<a style="TEXT-DECORATION: underline; COLOR: purple" href="http://its.1c.ru/db/v83doc/content/63/1/IssOgl2_5.12.1.%D0%92%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%B5%D0%BE%D1%82%D1%87%D0%B5%D1%82%D1%8B%D0%B8%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8" target="_top">5.12.1. Внешние отчеты и обработки</a><span class="Apple-converted-space"> </span>документации к платформе.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">В общем виде последовательность создания дополнительной обработки (отчета) следующая:</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>1.<span><span class="Apple-converted-space"> </span></span></span></span>Создать внешнюю обработку (отчет).</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>2.<span><span class="Apple-converted-space"> </span></span></span></span>Регистрация дополнительной обработки в информационной базе происходит на основании сведений, которые поставляет сама обработка. Эти сведения должны возвращаться в виде структуры в функции<span class="Apple-converted-space"> </span><b>СведенияОВнешнейОбработке</b><span class="Apple-converted-space"> </span>модуля обработки. Поля структуры имеют следующее назначение:</p>
<table class="MsoNormalTable" style="FONT-FAMILY: 'Times New Roman'; WORD-SPACING: 0px; BORDER-COLLAPSE: collapse; TEXT-TRANSFORM: none; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px" cellspacing="0" cellpadding="0" border="1"><thead><tr><td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial" align="center"><b>Ключ</b></p></td>
<td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial" align="center"><b>Содержание</b></p></td></tr></thead><tbody><tr><td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><b>Вид</b></p></td>
<td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial">Строка, вид обработки, один из возможных: «ДополнительнаяОбработка», «ДополнительныйОтчет», «ЗаполнениеОбъекта», «Отчет», «ПечатнаяФорма» или «СозданиеСвязанныхОбъектов»</p></td></tr><tr><td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><b>Назначение</b></p></td>
<td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial">Массив строк имен объектов метаданных в формате: &lt;ИмяКлассаОбъектаМетаданного&gt;.[ * | &lt;ИмяОбъектаМетаданных&gt;].</p>
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial">Например, «Документ.СчетЗаказ» или «Справочник.*». Примечание: параметр имеет смысл только для назначаемых обработок, для глобальных – не используется</p></td></tr><tr><td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><b>Наименование</b></p></td>
<td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial">Наименование обработки, которым будет заполнено наименование элемента справочника, краткое описание для идентификации обработки администратором</p></td></tr><tr><td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><b>Версия</b></p></td>
<td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial">Версия обработки в формате &lt;старший номер&gt;.&lt;младший номер&gt; используется при загрузке обработок в информационную базу. Например,<span class="Apple-converted-space"> </span><b>1.0</b></p></td></tr><tr><td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><b>БезопасныйРежим</b></p></td>
<td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial">Принимает значение<span class="Apple-converted-space"> </span><b>Истина</b><span class="Apple-converted-space"> </span>или<span class="Apple-converted-space"> </span><b>Ложь</b><span class="Apple-converted-space"> </span>в зависимости от того, требуется ли устанавливать или отключать безопасный режим при исполнении обработки (отчета). Если<span class="Apple-converted-space"> </span><b>Истина</b>, обработка (отчет) будет запущена в безопасном режиме. При этом, в частности, не гарантируется корректная работа дополнительных обработок под пользователями без полных прав в тех случаях, когда обработка вызывает код конфигурации, который не рассчитан на работу в безопасном режиме (в том числе неявно, когда срабатывает код модуля объекта и подписок на события при записи данных).</p>
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial">Более подробно о безопасном режиме см. документацию к платформе «<span class="philBody2"><span>1С:Предприятие»</span></span></p></td></tr><tr><td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><b>Информация</b></p></td>
<td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial">Краткая информация по обработке, описание обработки</p></td></tr><tr><td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><b>Команды</b></p></td>
<td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial">Команды, поставляемые обработкой. Таблица значений с колонками:</p>
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><span class="philBody2">Представление</span><span class="Apple-converted-space"> </span>– представление команды в пользовательском интерфейсе.</p>
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><span class="philBody2">Идентификатор</span><span class="Apple-converted-space"> </span>– идентификатор команды; любая строка, уникальная в пределах данной обработки (отчета)*.</p>
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><span class="philBody2">Использование</span><span class="Apple-converted-space"> </span>– вариант запуска команды:</p>
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span class="philBody2">ОткрытиеФормы</span><span class="Apple-converted-space"> </span>– открыть форму обработки;</p>
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span class="philBody2">ВызовКлиентскогоМетода</span><span class="Apple-converted-space"> </span>– вызвать клиентскую экспортную процедуру из модуля формы обработки;</p>
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span class="philBody2">ВызовСерверногоМетода</span><span class="Apple-converted-space"> </span>– вызвать серверную экспортную процедуру из модуля объекта обработки;</p>
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span class="philBody2">СценарийВБезопасномРежиме</span><span class="philBody2"><span><span class="Apple-converted-space"> </span>– вызвать серверную экспортную функцию из модуля объекта для формирования сценария выполнения (специальный вариант запуска для использования программного интерфейса, расширяющего доступные разработчику дополнительной обработки операции, при выполнении дополнительной обработки в безопасном режиме, подробнее см. «</span></span>Расширение безопасного режима<span class="philBody2"></span><span class="philBody2"><span>»).</span></span></p>
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><span class="philBody2">ПоказыватьОповещение</span><span class="Apple-converted-space"> </span>–<span class="Apple-converted-space"> </span><span class="philBody2">Истина</span>, если требуется показать оповещение при начале и при завершении работы обработки. Например, при запуске обработки без открытия формы.</p>
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><span class="philBody2">Модификатор</span><span class="Apple-converted-space"> </span>– дополнительный модификатор команды. Используется для дополнительных обработок печатных форм на основе табличных макетов. Для таких команд должен содержать строку<span class="Apple-converted-space"> </span><span class="philBody2">ПечатьMXL<span class="Apple-converted-space"> </span></span>(см. пример в демонстрационной конфигурации)</p></td></tr><tr><td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><b>ВерсияБСП</b></p></td>
<td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial">Минимальная версия БСП, на которую рассчитывает код дополнительной обработки. Должна быть задана не ниже<span class="Apple-converted-space"> </span><b>1.2.1.4</b>.</p>
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial">Номер версии БСП задается в формате «РР.ПП.ВВ.СС» (РР – старший номер редакции; ПП – младший номер редакции; ВВ – номер версии; СС – номер сборки)</p></td></tr><tr><td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial"><b>Разрешения</b></p></td>
<td style="BORDER-TOP: rgb(159,159,159) 1px solid; BORDER-RIGHT: rgb(159,159,159) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(159,159,159) 1px solid; PADDING-BOTTOM: 5px; PADDING-TOP: 5px; PADDING-LEFT: 5px; BORDER-LEFT: rgb(159,159,159) 1px solid; PADDING-RIGHT: 5px">
<p class="philBody" style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Tahoma, Arial">Массив разрешений, предоставляемых дополнительной обработке при использовании<span class="Apple-converted-space"> </span><span class="philBody2"><span>программного интерфейса, расширяющего доступные разработчику дополнительной обработки операции, при выполнении дополнительной обработки в безопасном режиме (подробнее см. раздел «</span></span>Расширение безопасного режима<span class="philBody2"></span><span class="philBody2"><span>»)</span></span></p></td></tr></tbody></table><p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">* Для обработок с печатными формами на основе макета табличного документа должен содержать список макетов, на основе которых нужно получить печатную форму (см. описание параметра<span class="Apple-converted-space"> </span><b>ИменаМакетов</b><span class="Apple-converted-space"> </span>процедуры<span class="Apple-converted-space"> </span><b>УправлениеПечатьюКлиент.ВыполнитьКомандуПечати</b><span class="Apple-converted-space"> </span>в разделе «<a style="TEXT-DECORATION: underline; COLOR: purple" href="http://its.1c.ru/db/content/bspdoc/src/%D0%B1%D1%81%D0%BF22/3.33%20%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D1%8C.htm?_=1424877589#_печать_1">Печать</a>»).</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Пример реализации функции<span class="Apple-converted-space"> </span><b>СведенияОВнешнейОбработке</b>:</p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="keyword" style="COLOR: red">Функция</span> СведенияОВнешнейОбработке<span class="operator" style="COLOR: red">(</span><span class="operator" style="COLOR: red">)</span> <span class="keyword" style="COLOR: red">Экспорт</span>
  ПараметрыРегистрации <span class="operator" style="COLOR: red">=</span> <span class="keyword" style="COLOR: red">Новый</span> Структура<span class="operator" style="COLOR: red">;</span>
  ПараметрыРегистрации<span class="operator" style="COLOR: red">.</span>Вставить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Вид"</span><span class="operator" style="COLOR: red">,</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  ПараметрыРегистрации<span class="operator" style="COLOR: red">.</span>Вставить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Назначение"</span><span class="operator" style="COLOR: red">,</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  ПараметрыРегистрации<span class="operator" style="COLOR: red">.</span>Вставить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Наименование"</span><span class="operator" style="COLOR: red">,</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  ПараметрыРегистрации<span class="operator" style="COLOR: red">.</span>Вставить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Версия"</span><span class="operator" style="COLOR: red">,</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  ПараметрыРегистрации<span class="operator" style="COLOR: red">.</span>Вставить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Информация"</span><span class="operator" style="COLOR: red">,</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  ПараметрыРегистрации<span class="operator" style="COLOR: red">.</span>Вставить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"ВерсияБСП"</span><span class="operator" style="COLOR: red">,</span> <span class="string" style="COLOR: black">"1.2.1.4"</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  Команды <span class="operator" style="COLOR: red">=</span> ТаблицаКоманд<span class="operator" style="COLOR: red">(</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  ДобавитьКоманду<span class="operator" style="COLOR: red">(</span>Команды<span class="operator" style="COLOR: red">,</span>
          <span class="operator" style="COLOR: red">&lt;</span>Имя команды<span class="operator" style="COLOR: red">&gt;</span><span class="operator" style="COLOR: red">,</span>
          <span class="operator" style="COLOR: red">&lt;</span>Идентификатор команды<span class="operator" style="COLOR: red">&gt;</span><span class="operator" style="COLOR: red">,</span>
          <span class="operator" style="COLOR: red">&lt;</span>Способ вызова команды<span class="operator" style="COLOR: red">&gt;</span><span class="operator" style="COLOR: red">,</span>
          <span class="operator" style="COLOR: red">&lt;</span>Показывать оповещение<span class="operator" style="COLOR: red">&gt;</span><span class="operator" style="COLOR: red">,</span>
          <span class="operator" style="COLOR: red">&lt;</span>Модификатор<span class="operator" style="COLOR: red">&gt;</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  ПараметрыРегистрации<span class="operator" style="COLOR: red">.</span>Вставить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Команды"</span><span class="operator" style="COLOR: red">,</span> Команды<span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  <span class="keyword" style="COLOR: red">Возврат</span> ПараметрыРегистрации<span class="operator" style="COLOR: red">;</span>
<span class="keyword" style="COLOR: red">КонецФункции</span>
<span class="keyword" style="COLOR: red">Функция</span> ТаблицаКоманд<span class="operator" style="COLOR: red">(</span><span class="operator" style="COLOR: red">)</span>
  Команды <span class="operator" style="COLOR: red">=</span> <span class="keyword" style="COLOR: red">Новый</span> ТаблицаЗначений<span class="operator" style="COLOR: red">;</span>
  Команды<span class="operator" style="COLOR: red">.</span>Колонки<span class="operator" style="COLOR: red">.</span>Добавить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Представление"</span><span class="operator" style="COLOR: red">,</span> <span class="keyword" style="COLOR: red">Новый</span> ОписаниеТипов<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Строка"</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  Команды<span class="operator" style="COLOR: red">.</span>Колонки<span class="operator" style="COLOR: red">.</span>Добавить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Идентификатор"</span><span class="operator" style="COLOR: red">,</span> <span class="keyword" style="COLOR: red">Новый</span> ОписаниеТипов<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Строка"</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  Команды<span class="operator" style="COLOR: red">.</span>Колонки<span class="operator" style="COLOR: red">.</span>Добавить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Использование"</span><span class="operator" style="COLOR: red">,</span> <span class="keyword" style="COLOR: red">Новый</span> ОписаниеТипов<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Строка"</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  Команды<span class="operator" style="COLOR: red">.</span>Колонки<span class="operator" style="COLOR: red">.</span>Добавить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"ПоказыватьОповещение"</span><span class="operator" style="COLOR: red">,</span> <span class="keyword" style="COLOR: red">Новый</span> ОписаниеТипов<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Булево"</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  Команды<span class="operator" style="COLOR: red">.</span>Колонки<span class="operator" style="COLOR: red">.</span>Добавить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Модификатор"</span><span class="operator" style="COLOR: red">,</span> <span class="keyword" style="COLOR: red">Новый</span> ОписаниеТипов<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"Строка"</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  <span class="keyword" style="COLOR: red">Возврат</span> Команды<span class="operator" style="COLOR: red">;</span>
<span class="keyword" style="COLOR: red">КонецФункции</span>
<span class="keyword" style="COLOR: red">Процедура</span> ДобавитьКоманду<span class="operator" style="COLOR: red">(</span>ТаблицаКоманд<span class="operator" style="COLOR: red">,</span> Представление<span class="operator" style="COLOR: red">,</span> Идентификатор<span class="operator" style="COLOR: red">,</span> Использование<span class="operator" style="COLOR: red">,</span> ПоказыватьОповещение <span class="operator" style="COLOR: red">=</span> <span class="keyword" style="COLOR: red">Ложь</span><span class="operator" style="COLOR: red">,</span> Модификатор <span class="operator" style="COLOR: red">=</span> <span class="string" style="COLOR: black">""</span><span class="operator" style="COLOR: red">)</span>
  НоваяКоманда <span class="operator" style="COLOR: red">=</span> ТаблицаКоманд<span class="operator" style="COLOR: red">.</span>Добавить<span class="operator" style="COLOR: red">(</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  НоваяКоманда<span class="operator" style="COLOR: red">.</span>Представление <span class="operator" style="COLOR: red">=</span> Представление<span class="operator" style="COLOR: red">;</span>
  НоваяКоманда<span class="operator" style="COLOR: red">.</span>Идентификатор <span class="operator" style="COLOR: red">=</span> Идентификатор<span class="operator" style="COLOR: red">;</span>
  НоваяКоманда<span class="operator" style="COLOR: red">.</span>Использование <span class="operator" style="COLOR: red">=</span> Использование<span class="operator" style="COLOR: red">;</span>
  НоваяКоманда<span class="operator" style="COLOR: red">.</span>ПоказыватьОповещение <span class="operator" style="COLOR: red">=</span> ПоказыватьОповещение<span class="operator" style="COLOR: red">;</span>
  НоваяКоманда<span class="operator" style="COLOR: red">.</span>Модификатор <span class="operator" style="COLOR: red">=</span> Модификатор<span class="operator" style="COLOR: red">;</span>
<span class="keyword" style="COLOR: red">КонецПроцедуры</span></pre>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">В примере приведены также вспомогательные функции<span class="Apple-converted-space"> </span><span class="philBody2">ТаблицаКоманд</span><span class="Apple-converted-space"> </span>и<span class="Apple-converted-space"> </span><span class="philBody2">ДобавитьКоманду</span>, которые рекомендуется использовать при создании собственных дополнительных отчетов и обработок.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Имеется возможность сохранять произвольные настройки дополнительной обработки в реквизите<span class="Apple-converted-space"> </span><b>ХранилищеНастроек</b><span class="Apple-converted-space"> </span>справочника<span class="Apple-converted-space"> </span><b>ДополнительныеОтчетыИОбработки</b>. Для доступа к этому реквизиту в команду выполнения обработки передается ссылка на связанный с ней элемент справочника<span class="Apple-converted-space"> </span><b>ДополнительныеОтчетыИОбработки</b>.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><b>Вариант запуска «Открытие формы»</b></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для этого варианта запуска необходимо создать форму обработки, которая будет открыта при выполнении команды.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span class="philBody2"><span>для глобальных отчетов и обработок</span></span><span class="Apple-converted-space"> </span>– не требуется дополнительных действий;</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span class="philBody2"><span>для назначаемых отчетов и обработок</span></span><span class="Apple-converted-space"> </span>– в форме обработки добавить параметр<span class="Apple-converted-space"> </span><span class="philBody2">ОбъектыНазначения</span><span class="Apple-converted-space"> </span>типа<span class="Apple-converted-space"> </span><span class="philBody2">Произвольный</span>. В этот параметр передается массив ссылок на объекты, для которых выполняется дополнительная обработка.</p>
<p class="philNote" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2">Примечание.</span><span class="Apple-converted-space"> </span><span class="philBody2"><span>При использовании варианта запуска «Открытие формы» требуется самостоятельно вызвать метод<span class="Apple-converted-space"> </span></span>ОповеститьОбИзменении</span><span class="philBody2"><span><span class="Apple-converted-space"> </span>после изменения объекта(ов) для того, чтобы отразить изменения в пользовательском интерфейсе</span></span>.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">В форму передаются два параметра: с параметрами<span class="Apple-converted-space"> </span><span class="philBody2">ИдентификаторКоманды</span><span class="philBody2"><span><span class="Apple-converted-space"> </span>и<span class="Apple-converted-space"> </span></span></span><b>ДополнительнаяОбработкаСсылка</b><span class="Apple-converted-space"> </span>(ссылка на элемент справочника<b>ДополнительныеОтчетыИОбработки</b>, который связан с данной дополнительной обработкой).</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><b>Вариант запуска «Вызов клиентского метода»</b></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для этого варианта запуска необходимо создать форму обработки и в модуле формы обработки завести экспортную процедуру определенного вида.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2"><span>Для<span class="Apple-converted-space"> </span></span></span><b>глобальных</b><span class="philBody2"><span><span class="Apple-converted-space"> </span>отчетов и обработок</span></span><span class="Apple-converted-space"> </span>– реализовать экспортную процедуру<span class="Apple-converted-space"> </span><span class="philBody2">ВыполнитьКоманду</span><span class="Apple-converted-space"> </span>с параметром<span class="Apple-converted-space"> </span><span class="philBody2">ИдентификаторКоманды</span><span class="Apple-converted-space"> </span>(<b>Строка</b>):</p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="preprocessor" style="COLOR: rgb(165,42,42)">&amp;НаКлиенте</span>
<span class="keyword" style="COLOR: red">Процедура</span> ВыполнитьКоманду<span class="operator" style="COLOR: red">(</span>ИдентификаторКоманды<span class="operator" style="COLOR: red">)</span>
  <span class="comment" style="COLOR: green">// Реализация логики команды</span>
  <span class="comment" style="COLOR: green">//...</span>
<span class="keyword" style="COLOR: red">КонецПроцедуры</span></pre>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для<span class="Apple-converted-space"> </span><span>назначаемых</span><span class="Apple-converted-space"> </span>обработок типа «<b>ПечатнаяФорма</b>» – реализовать экспортную процедуру<span class="Apple-converted-space"> </span><b>Печать</b><span class="Apple-converted-space"> </span>с двумя параметрами<span class="Apple-converted-space"> </span><b>ИдентификаторКоманды</b><span class="Apple-converted-space"> </span>и<b>ОбъектыНазначенияМассив</b>, где<span class="Apple-converted-space"> </span><b>ИдентификаторКоманды</b><span class="Apple-converted-space"> </span>– строка, идентификатор команды;<span class="Apple-converted-space"> </span><b>ОбъектыНазначенияМассив</b><span class="Apple-converted-space"> </span>–<b><span class="Apple-converted-space"> </span></b>массив ссылок на объекты информационной базы, для которых выполняется дополнительная обработка:</p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="preprocessor" style="COLOR: rgb(165,42,42)">&amp;НаКлиенте</span>
<span class="keyword" style="COLOR: red">Процедура</span> Печать<span class="operator" style="COLOR: red">(</span>ИдентификаторКоманды<span class="operator" style="COLOR: red">,</span> ОбъектыНазначенияМассив<span class="operator" style="COLOR: red">)</span>
  <span class="comment" style="COLOR: green">// Реализация логики команды печати</span>
  <span class="comment" style="COLOR: green">//...</span>
<span class="keyword" style="COLOR: red">КонецПроцедуры</span></pre>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2"><span>Для назначаемых обработок типа «Создание связанных<span class="Apple-converted-space"> </span></span></span>объектов<span class="philBody2"><span>» –</span><span class="Apple-converted-space"> </span></span>реализовать экспортную процедуру<span class="Apple-converted-space"> </span><span class="philBody2">ВыполнитьКоманду</span><span class="Apple-converted-space"> </span>с параметрами<span class="Apple-converted-space"> </span><span class="philBody2">ИдентификаторКоманды</span>,<span class="philBody2">ОбъектыНазначенияМассив</span><span class="Apple-converted-space"> </span>и<span class="Apple-converted-space"> </span><span class="philBody2">СозданныеОбъекты</span>, где<span class="Apple-converted-space"> </span><span class="philBody2">СозданныеОбъекты</span><span class="Apple-converted-space"> </span>– массив ссылок на созданные объекты:</p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="preprocessor" style="COLOR: rgb(165,42,42)">&amp;НаКлиенте</span>
<span class="keyword" style="COLOR: red">Процедура</span> ВыполнитьКоманду<span class="operator" style="COLOR: red">(</span>ИдентификаторКоманды<span class="operator" style="COLOR: red">,</span> ОбъектыНазначенияМассив<span class="operator" style="COLOR: red">,</span> СозданныеОбъекты<span class="operator" style="COLOR: red">)</span>
  <span class="comment" style="COLOR: green">// Реализация логики команды по созданию связанных объектов</span>
  <span class="comment" style="COLOR: green">//...</span>
<span class="keyword" style="COLOR: red">КонецПроцедуры</span></pre>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2"><span>Для<span class="Apple-converted-space"> </span></span></span><span>назначаемых<span class="philBody2"><span><span class="Apple-converted-space"> </span>обработок типа «Заполнение объекта» и «Отчет»<span class="Apple-converted-space"> </span></span></span></span>реализовать экспортную процедуру<span class="Apple-converted-space"> </span><span class="philBody2">ВыполнитьКоманду</span><span class="Apple-converted-space"> </span>с параметрами<span class="Apple-converted-space"> </span><span class="philBody2">ИдентификаторКоманды</span>,<span class="philBody2">ОбъектыНазначенияМассив</span>:</p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="preprocessor" style="COLOR: rgb(165,42,42)">&amp;НаКлиенте</span>
<span class="keyword" style="COLOR: red">Процедура</span> ВыполнитьКоманду<span class="operator" style="COLOR: red">(</span>ИдентификаторКоманды<span class="operator" style="COLOR: red">,</span> ОбъектыНазначенияМассив<span class="operator" style="COLOR: red">)</span>
  <span class="comment" style="COLOR: green">// Реализация логики команды по заполнению объекта</span>
  <span class="comment" style="COLOR: green">//...</span>
<span class="keyword" style="COLOR: red">КонецПроцедуры</span></pre>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для всех типов дополнительных отчетов и обработок в форму передается параметр<span class="Apple-converted-space"> </span><b>ДополнительнаяОбработкаСсылка</b><span class="Apple-converted-space"> </span>– ссылка на элемент справочника<b>ДополнительныеОтчетыИОбработки</b>, который связан с данной дополнительной обработкой или отчетом.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><b>Вариант запуска «Вызов серверного метода»</b></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для этого варианта запуска необходимо в модуле обработки завести экспортную процедуру определенного вида.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2"><span>Для<span class="Apple-converted-space"> </span></span></span><span>глобальных<span class="philBody2"><span><span class="Apple-converted-space"> </span>отчетов и глобальных обработок</span><span class="Apple-converted-space"> </span></span></span>реализовать экспортную процедуру<span class="Apple-converted-space"> </span><span class="philBody2">ВыполнитьКоманду</span><span class="Apple-converted-space"> </span>с параметрами<span class="Apple-converted-space"> </span><b>ИдентификаторКоманды</b><span class="Apple-converted-space"> </span>и<b>ПараметрыВыполненияКоманды</b>, где<span class="Apple-converted-space"> </span><b>ПараметрыВыполненияКоманды</b><span class="Apple-converted-space"> </span>–<b><span class="Apple-converted-space"> </span></b>структура со свойством<span class="Apple-converted-space"> </span><b>ДополнительнаяОбработкаСсылка</b><span class="Apple-converted-space"> </span>(ссылка на элемент справочника<b>ДополнительныеОтчетыИОбработки</b>, который связан с данной дополнительной обработкой):</p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="keyword" style="COLOR: red">Процедура</span> ВыполнитьКоманду<span class="operator" style="COLOR: red">(</span>ИдентификаторКоманды<span class="operator" style="COLOR: red">,</span> ПараметрыВыполненияКоманды<span class="operator" style="COLOR: red">)</span> <span class="keyword" style="COLOR: red">Экспорт</span>
  <span class="comment" style="COLOR: green">// Реализация логики команды</span>
  <span class="keyword" style="COLOR: red">Если</span> ИдентификаторКоманды <span class="operator" style="COLOR: red">=</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span> <span class="keyword" style="COLOR: red">Тогда</span>...
  <span class="keyword" style="COLOR: red">ИначеЕсли</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span>
<span class="keyword" style="COLOR: red">КонецПроцедуры</span></pre>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для назначаемых обработок типа «Создание связанных объектов» реализовать экспортную процедуру<span class="Apple-converted-space"> </span><b>ВыполнитьКоманду</b><span class="Apple-converted-space"> </span>с параметрами<span class="Apple-converted-space"> </span><b>ИдентификаторКоманды</b>,<b>ОбъектыНазначения</b>,<span class="Apple-converted-space"> </span><b>СозданныеОбъекты</b><span class="Apple-converted-space"> </span>и<span class="Apple-converted-space"> </span><b>ПараметрыВыполненияКоманды:</b></p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="keyword" style="COLOR: red">Процедура</span> ВыполнитьКоманду<span class="operator" style="COLOR: red">(</span>ИдентификаторКоманды<span class="operator" style="COLOR: red">,</span> ОбъектыНазначения<span class="operator" style="COLOR: red">,</span> СозданныеОбъекты<span class="operator" style="COLOR: red">,</span> ПараметрыВыполненияКоманды<span class="operator" style="COLOR: red">)</span> <span class="keyword" style="COLOR: red">Экспорт</span>
  <span class="comment" style="COLOR: green">// Реализация логики команды по созданию связанных объектов</span>
  <span class="keyword" style="COLOR: red">Если</span> ИдентификаторКоманды <span class="operator" style="COLOR: red">=</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span> <span class="keyword" style="COLOR: red">Тогда</span>...
  <span class="keyword" style="COLOR: red">ИначеЕсли</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span>
<span class="keyword" style="COLOR: red">КонецПроцедуры</span></pre>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2"><span>Для<span class="Apple-converted-space"> </span></span></span>назначаемых<span class="philBody2"><span><span class="Apple-converted-space"> </span>обработок типа «Печать» на основе табличных документов</span><span class="Apple-converted-space"> </span></span>реализовать экспортную процедуру<span class="Apple-converted-space"> </span><span class="philBody2">Печать</span><span class="Apple-converted-space"> </span>с параметрами<span class="Apple-converted-space"> </span><span class="philBody2">МассивОбъектов</span>,<span class="Apple-converted-space"> </span><span class="philBody2">КоллекцияПечатныхФорм</span>,<span class="philBody2">ОбъектыПечати</span><span class="Apple-converted-space"> </span>и<span class="Apple-converted-space"> </span><span class="philBody2">ПараметрыВывода</span>. Описание параметров см. в разделе «<a style="TEXT-DECORATION: underline; COLOR: purple" href="http://its.1c.ru/db/content/bspdoc/src/%D0%B1%D1%81%D0%BF22/3.33%20%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D1%8C.htm?_=1424877589#_печать_1">Печать</a>».</p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="keyword" style="COLOR: red">Процедура</span> Печать<span class="operator" style="COLOR: red">(</span>МассивОбъектов<span class="operator" style="COLOR: red">,</span> КоллекцияПечатныхФорм<span class="operator" style="COLOR: red">,</span> ОбъектыПечати<span class="operator" style="COLOR: red">,</span> ПараметрыВывода<span class="operator" style="COLOR: red">)</span> <span class="keyword" style="COLOR: red">Экспорт</span>
  <span class="comment" style="COLOR: green">// Реализация логики команды печати</span>
  <span class="keyword" style="COLOR: red">Если</span> ИдентификаторКоманды <span class="operator" style="COLOR: red">=</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span> <span class="keyword" style="COLOR: red">Тогда</span>...
  <span class="keyword" style="COLOR: red">ИначеЕсли</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span>
<span class="keyword" style="COLOR: red">КонецПроцедуры</span></pre>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2"><span>Для назначаемых обработок типа «Заполнение объекта» и<span class="Apple-converted-space"> </span></span></span>других<span class="philBody2"><span><span class="Apple-converted-space"> </span>типов обработок</span><span class="Apple-converted-space"> </span></span>реализовать экспортную процедуру<span class="Apple-converted-space"> </span><span class="philBody2">ВыполнитьКоманду</span><span class="Apple-converted-space"> </span>с параметрами<span class="Apple-converted-space"> </span><span class="philBody2">ИдентификаторКоманды</span>,<span class="philBody2">ОбъектыНазначения<span class="Apple-converted-space"> </span></span><span class="philBody2"><span>и<span class="Apple-converted-space"> </span></span>ПараметрыВыполненияКоманды</span>:</p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="keyword" style="COLOR: red">Процедура</span> ВыполнитьКоманду<span class="operator" style="COLOR: red">(</span>ИдентификаторКоманды<span class="operator" style="COLOR: red">,</span> ОбъектыНазначения<span class="operator" style="COLOR: red">,</span> ПараметрыВыполненияКоманды<span class="operator" style="COLOR: red">)</span> <span class="keyword" style="COLOR: red">Экспорт</span>
  <span class="comment" style="COLOR: green">// Реализация логики команды по заполнению объекта</span>
  <span class="keyword" style="COLOR: red">Если</span> ИдентификаторКоманды <span class="operator" style="COLOR: red">=</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span> <span class="keyword" style="COLOR: red">Тогда</span>...
  <span class="keyword" style="COLOR: red">ИначеЕсли</span> <span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span><span class="operator" style="COLOR: red">.</span>
<span class="keyword" style="COLOR: red">КонецПроцедуры</span></pre><a style="TEXT-DECORATION: ; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium 'Times New Roman'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px" name="issogl2_фоновоевыполнениедлительныхопераций">
<h4 style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Arial">Фоновое выполнение длительных операций</h4></a><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(0,0,0); FONT: medium 'Times New Roman'; DISPLAY: inline !important; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></span>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для того чтобы длительные операции дополнительного объекта запускались в фоновом режиме, необходимо запустить выполнение команды в фоновом задании и после его завершения принять результат.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Программный интерфейс, помогающий запускать длительные операции в фоне, представлен следующими процедурами:</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>1.<span><span class="Apple-converted-space"> </span></span></span></span>В общем модуле<span class="Apple-converted-space"> </span><b>ДополнительныеОтчетыИОбработкиКлиент</b>:<span class="Apple-converted-space"> </span><b>ВыполнитьКомандуВФоне</b><span class="Apple-converted-space"> </span>и<span class="Apple-converted-space"> </span><b>ПоказатьРезультатВыполненияКоманды</b>.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>2.<span><span class="Apple-converted-space"> </span></span></span></span>В общем модуле<span class="Apple-converted-space"> </span><b>ДополнительныеОтчетыИОбработки</b>:<span class="Apple-converted-space"> </span><b>ВыполнитьКомандуИзФормыВнешнегоОбъекта</b><span class="Apple-converted-space"> </span>и<span class="Apple-converted-space"> </span><b>ВыполнитьКоманду</b>.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2"><span>Рассмотрим подключение по шагам:</span></span></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2"><span>Шаг 1. Добавить реквизит управляемой формы для хранения ссылки внешнего объекта с<span class="Apple-converted-space"> </span></span></span>типом<span class="Apple-converted-space"> </span><b>СправочникСсылка.ДополнительныеОтчетыИОбработки</b><span class="philBody2"><span>. Например, «</span></span>ОбъектСсылка»<span class="philBody2"><span>.</span></span></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2"><span>Шаг 2. В обработчике события управляемой формы<span class="Apple-converted-space"> </span></span></span><span class="philBody2"><span>ПриСозданииНаСервере</span></span><span class="philBody2"><span><span class="Apple-converted-space"> </span>сохранить ссылку внешнего объекта:</span></span></p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="preprocessor" style="COLOR: rgb(165,42,42)">&amp;НаСервере</span>
<span class="keyword" style="COLOR: red">Процедура</span> ПриСозданииНаСервере<span class="operator" style="COLOR: red">(</span>Отказ<span class="operator" style="COLOR: red">,</span> СтандартнаяОбработка<span class="operator" style="COLOR: red">)</span>
  Параметры<span class="operator" style="COLOR: red">.</span>Свойство<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"ДополнительнаяОбработкаСсылка"</span><span class="operator" style="COLOR: red">,</span> ОбъектСсылка<span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
<span class="keyword" style="COLOR: red">КонецПроцедуры</span></pre>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2"><span>Шаг 3. Добавить функцию для выполнения команды в файловом режиме по шаблону (в блок служебных процедур и функций):</span></span></p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="preprocessor" style="COLOR: rgb(165,42,42)">&amp;НаСервере</span>
<span class="keyword" style="COLOR: red">Функция</span> ВыполнитьКомандуНапрямую<span class="operator" style="COLOR: red">(</span>ИдентификаторКоманды<span class="operator" style="COLOR: red">,</span> ПараметрыКоманды<span class="operator" style="COLOR: red">)</span>
  <span class="keyword" style="COLOR: red">Возврат</span> ДополнительныеОтчетыИОбработки<span class="operator" style="COLOR: red">.</span>ВыполнитьКомандуИзФормыВнешнегоОбъекта<span class="operator" style="COLOR: red">(</span>ИдентификаторКоманды<span class="operator" style="COLOR: red">,</span> ПараметрыКоманды<span class="operator" style="COLOR: red">,</span> ЭтотОбъект<span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
<span class="keyword" style="COLOR: red">КонецФункции</span></pre>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2"><span>Шаг 4. В обработчике команды управляемой формы, которая инициирует длительную операцию, добавить код по шаблону:</span></span></p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="preprocessor" style="COLOR: rgb(165,42,42)">&amp;НаКлиенте</span>
<span class="keyword" style="COLOR: red">Процедура</span> ВыполнитьКомандуОбработки<span class="operator" style="COLOR: red">(</span>Команда<span class="operator" style="COLOR: red">)</span>
  ИдентификаторКоманды <span class="operator" style="COLOR: red">=</span> Команда<span class="operator" style="COLOR: red">.</span>Имя<span class="operator" style="COLOR: red">;</span>
  ПараметрыКоманды <span class="operator" style="COLOR: red">=</span> <span class="keyword" style="COLOR: red">Новый</span> Структура<span class="operator" style="COLOR: red">;</span>
  ПараметрыКоманды<span class="operator" style="COLOR: red">.</span>Вставить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"ДополнительнаяОбработкаСсылка"</span><span class="operator" style="COLOR: red">,</span> ОбъектСсылка<span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  ПараметрыКоманды<span class="operator" style="COLOR: red">.</span>Вставить<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"СопровождающийТекст"</span><span class="operator" style="COLOR: red">,</span> НСтр<span class="operator" style="COLOR: red">(</span><span class="string" style="COLOR: black">"ru = 'Вставить наименование выполняемой команды'"</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  Состояние<span class="operator" style="COLOR: red">(</span>ПараметрыКоманды<span class="operator" style="COLOR: red">.</span>СопровождающийТекст<span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  <span class="keyword" style="COLOR: red">Если</span> СтандартныеПодсистемыВызовСервера<span class="operator" style="COLOR: red">.</span>ПараметрыРаботыКлиента<span class="operator" style="COLOR: red">(</span><span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">.</span>ИнформационнаяБазаФайловая <span class="keyword" style="COLOR: red">Тогда</span>
    РезультатВыполнения <span class="operator" style="COLOR: red">=</span> ВыполнитьКомандуНапрямую<span class="operator" style="COLOR: red">(</span>ИдентификаторКоманды<span class="operator" style="COLOR: red">,</span> ПараметрыКоманды<span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
    <span class="comment" style="COLOR: green">// Добавить код приемки результата</span>
    ДополнительныеОтчетыИОбработкиКлиент<span class="operator" style="COLOR: red">.</span>ПоказатьРезультатВыполненияКоманды<span class="operator" style="COLOR: red">(</span>ЭтотОбъект<span class="operator" style="COLOR: red">,</span> РезультатВыполнения<span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  <span class="keyword" style="COLOR: red">Иначе</span>
    ДополнительныеОтчетыИОбработкиКлиент<span class="operator" style="COLOR: red">.</span>ВыполнитьКомандуВФоне<span class="operator" style="COLOR: red">(</span>ИдентификаторКоманды<span class="operator" style="COLOR: red">,</span> ПараметрыКоманды<span class="operator" style="COLOR: red">,</span> ЭтотОбъект<span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  <span class="keyword" style="COLOR: red">КонецЕсли</span><span class="operator" style="COLOR: red">;</span>
<span class="keyword" style="COLOR: red">КонецПроцедуры</span></pre>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2"><span>Шаг 5. В обработчике события управляемой формы<span class="Apple-converted-space"> </span></span></span><span class="philBody2"><span>ОбработкаВыбора</span></span><span class="philBody2"><span><span class="Apple-converted-space"> </span>добавить код для приемки результата:</span></span></p><pre class="src_dev" style="BACKGROUND: rgb(230,230,230); WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MARGIN-TOP: 0px; TEXT-TRANSFORM: none; COLOR: blue; FONT: 10pt 'Courier New'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="preprocessor" style="COLOR: rgb(165,42,42)">&amp;НаКлиенте</span>
<span class="keyword" style="COLOR: red">Процедура</span> ОбработкаВыбора<span class="operator" style="COLOR: red">(</span>ВыбранноеЗначение<span class="operator" style="COLOR: red">,</span> ИсточникВыбора<span class="operator" style="COLOR: red">)</span>
  <span class="keyword" style="COLOR: red">Если</span> ИсточникВыбора<span class="operator" style="COLOR: red">.</span>ИмяФормы <span class="operator" style="COLOR: red">=</span> ДополнительныеОтчетыИОбработкиКлиент<span class="operator" style="COLOR: red">.</span>ИмяФормыДлительнойОперации<span class="operator" style="COLOR: red">(</span><span class="operator" style="COLOR: red">)</span> <span class="keyword" style="COLOR: red">Тогда</span>
    <span class="comment" style="COLOR: green">// Добавить код приемки результата</span>
    ДополнительныеОтчетыИОбработкиКлиент<span class="operator" style="COLOR: red">.</span>ПоказатьРезультатВыполненияКоманды<span class="operator" style="COLOR: red">(</span>ЭтотОбъект<span class="operator" style="COLOR: red">,</span> ВыбранноеЗначение<span class="operator" style="COLOR: red">)</span><span class="operator" style="COLOR: red">;</span>
  <span class="keyword" style="COLOR: red">КонецЕсли</span><span class="operator" style="COLOR: red">;</span>
<span class="keyword" style="COLOR: red">КонецПроцедуры</span></pre>
<p class="philNote" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span class="philBody2">Примечание.</span><span class="Apple-converted-space"> </span><span class="philBody2"><span>Длительные операции могут быть только серверными</span></span>.<span class="philBody2"></span></p><a style="TEXT-DECORATION: ; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium 'Times New Roman'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px" name="_ref348045906"></a><a style="TEXT-DECORATION: ; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium 'Times New Roman'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px" name="issogl2_расширениебезопасногорежима">
<h4 style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Arial">Расширение безопасного режима</h4></a><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(0,0,0); FONT: medium 'Times New Roman'; DISPLAY: inline !important; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></span>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Подсистема<span class="Apple-converted-space"> </span><b>Дополнительные отчеты и обработки</b><span class="Apple-converted-space"> </span>содержит специальный программный интерфейс, предназначенный для расширения возможностей, доступных разработчику обработки, в том случае, если требуется обеспечить работоспособность дополнительной обработки при подключении в безопасном режиме.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Следует учесть, что использование данного программного интерфейса усложняет процесс разработки дополнительного отчета или обработки и использовать его рекомендуется только в том случае, если будущий потребитель обработки предъявляет повышенные требования к безопасности (например, если обработка предназначается для размещения в сервисе<span class="Apple-converted-space"> </span><a style="TEXT-DECORATION: underline; COLOR: purple" href="https://1cfresh.com/" target="_blank">"1С:Предприятие 8 через Интернет"</a>).</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">В составе демонстрационной информационной базы БСП поставляется пример дополнительной обработки<b>_ДемоДополнительнаяОбработкаЗагрузкаПрайсЛистаВБезопасномРежиме</b>, демонстрирующий использование всех возможностей расширения безопасного режима (обработка представляет собой демонстрационную обработку<span class="Apple-converted-space"> </span><b>_ДемоДополнительнаяОбработкаЗагрузкаПрайсЛиста</b>, адаптированную к выполнению в безопасном режиме).</p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span></span></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><b>Состав программного интерфейса</b></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Функции данного программного интерфейса расположены в общих модулях<span class="Apple-converted-space"> </span><b>ДополнительныеОтчетыИОбработкиВБезопасномРежиме</b><span class="Apple-converted-space"> </span>и<b>ДополнительныеОбработкиВБезопасномРежимеВызовСервера</b>.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">В состав программного интерфейса входит следующий набор функций:</p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span>Функции для преобразования полученного от пользователя файла вызовом метода глобального контекста<span class="Apple-converted-space"> </span><b>ПоместитьФайл</b><span class="Apple-converted-space"> </span>(или из другого источника, поскольку в безопасном режиме код дополнительной обработки не может взаимодействовать с файловой системой, требуется чтобы дополнительная обработка оперировала адресом во временном хранилище, по которому расположены двоичные данные файла) в объект технологической платформы, позволяющий выполнить чтение и анализ содержимого файла:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДополнительныеОтчетыИОбработкиВБезопасномРежиме</span></b><span>:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ЧтениеXMLИзДвоичныхДанных</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ЧтениеHTMLИзДвоичныхДанных</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ЧтениеFastInfosetИзДвоичныхДанных</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДополнительныеОтчетыИОбработкиВБезопасномРежимеВызовСервера</span></b><span>:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ТекстовыйДокументИзДвоичныхДанных</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ТабличныйДокументИзДвоичныхДанных</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>РаспаковатьАрхив</span></b><span>.</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span>Функции для аналогичного обратного преобразования:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДополнительныеОтчетыИОбработкиВБезопасномРежиме</span></b><span>:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ЗаписьXMLВДвоичныеДанные</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ЗаписьHTMLВДвоичныеДанные</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ЗаписьFastInfosetВДвоичныеДанные</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДополнительныеОтчетыИОбработкиВБезопасномРежимеВызовСервера</span></b><span>:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ТекстовыйДокументВДвоичныеДанные</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ТабличныйДокументВДвоичныеДанные</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ФорматированныйДокументВДвоичныеДанные</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>УпаковатьФайлыВАрхив</span></b><span>.</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span>Функции для интеграции с внешним программным обеспечением:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДополнительныеОтчетыИОбработкиВБезопасномРежиме</span></b><span>:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>СоздатьComОбъект</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ПодключитьВнешнююКомпонентуИзОбщегоМакетаКонфигурации</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ПодключитьВнешнююКомпонентуИзМакетаКонфигурации</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ПолучитьФайлИзВнешнегоОбъекта</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ПередатьФайлВоВнешнийОбъект</span></b><span>.</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span>Функции для взаимодействия с сетевыми ресурсами:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДополнительныеОтчетыИОбработкиВБезопасномРежиме</span></b><span>:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ПолучитьФайлИзИнтернета</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ПередатьФайлВИнтернет</span></b><span>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>WSСоединение</span></b><span>.</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span>Функции для выполнения операций, недоступных в безопасном режиме из-за того, что код конфигурации был разработан в расчете на выполнение в привилегированном режиме, автоматически установленным платформой:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДополнительныеОтчетыИОбработкиВБезопасномРежиме</span></b><span>:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ПроведениеДокументов</span></b><span>.</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span>Подробное описание параметров функций и возвращаемых ими значений приведено в комментариях к самим функциям.</span></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><b></b></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><b>Разрешения</b></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Ряд функций описываемого программного интерфейса требует передачи параметра<span class="Apple-converted-space"> </span><b>КлючСессии</b>. Для использования этих функций дополнительная обработка должна предварительно «запросить» разрешение на их выполнения.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">«Запрос» разрешений реализуется путем заполнения свойства<span class="Apple-converted-space"> </span><b>Разрешения</b><span class="Apple-converted-space"> </span>структуры, возвращаемой функцией<span class="Apple-converted-space"> </span><b>СведенияОВнешнейОбработке()</b>, массивом разрешений, которые нужны дополнительной обработке для выполнения.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для формирования массива необходимо использовать специальные функции общего модуля<span class="Apple-converted-space"> </span><b>ДополнительныеОтчетыИОбработкиВБезопасномРежимеИнтерфейс</b>. Эти функции названы по шаблону<span class="Apple-converted-space"> </span><b>Разрешение*</b><span class="Apple-converted-space"> </span>и предполагают передачу в качестве параметров ограничений, достаточных для работы дополнительной обработки. Например, для функции<span class="Apple-converted-space"> </span><b>РазрешениеПолучениеДанныхИзИнтернет()</b><span class="Apple-converted-space"> </span>это протокол, через который будет осуществляться подключение, адрес сервера, к которому будет выполняться подключение, и номер сетевого порта, через который будет выполняться подключение.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Следует учесть, что при предоставлении сформированных разрешений они будут предоставляться именно с учетом запрошенных ограничений. Если необходимо получить разрешение без ограничений (например, адрес сервера, к которому будет осуществляться подключение, не известен заранее, а будет введен пользователем), следует передавать в качестве значения параметра-ограничителя результат выполнения функции<span class="Apple-converted-space"> </span><b>ДополнительныеОтчетыИОбработкиВБезопасномРежимеИнтерфейс. ЛюбоеЗначение()</b>.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Если дополнительной обработке предоставлены разрешения, для нее при каждом запуске генерируется ключ сессии расширения безопасного режима, связанный с разрешениями, предоставленными конкретной обработке.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для команд со способом вызова<span class="Apple-converted-space"> </span><b>ОткрытиеФормы</b><span class="Apple-converted-space"> </span>ключ сессии передается в качестве параметра формы<span class="Apple-converted-space"> </span><b>КлючСессии</b>.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><b>Способы использования</b></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Из клиентского контекста дополнительной обработки доступны для вызова все экспортируемые функции общего модуля<b>ДополнительныеОтчетыИОбработкиВБезопасномРежимеВызовСервера</b>.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Из серверного контекста дополнительной обработки невозможен непосредственный вызов функций описываемого программного интерфейса (при попытке выполнить такой вызов будет сгенерировано исключение).</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для использования программного интерфейса из серверного контекста дополнительных обработок реализован механизм<span class="Apple-converted-space"> </span><b>выполнения сценария дополнительной обработки</b>. При использовании данного механизма предполагается, что дополнительная обработка должна сформировать сценарий своего выполнения, который может содержать как вызов процедур и функций самой обработки (в этом случае выполнение в любом случае будет происходить с установкой безопасного режима), так и вызов процедур и функций конфигурации (некоторые из которых могут выполняться без установки безопасного режима – в частности, в таком режиме могут выполняться все функции описываемого программного интерфейса). Важно, что для выполнения через данный механизм потенциально опасных действий (например, передача данных в Интернет) обработка должна предварительно «запросить» разрешения на выполнение этих действий.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для использования механизма выполнения сценария дополнительной обработки в командах обработки, выполняющихся в серверном контексте, предназначен способ вызова команды дополнительной обработки<span class="Apple-converted-space"> </span><b>СценарийВБезопасномРежиме</b>. При выполнении команды с таким вариантом запуска подсистема<span class="Apple-converted-space"> </span><b>ДополнительныеОтчетыИОбработки</b>вызовет функцию объекта дополнительной обработки<span class="Apple-converted-space"> </span><b>СформироватьСценарий()</b>. Параметры функции<span class="Apple-converted-space"> </span><b>СформироватьСценарий()</b><span class="Apple-converted-space"> </span>аналогичны параметрам, передаваемым в процедуру<span class="Apple-converted-space"> </span><b>ВыполнитьКоманду</b><span class="Apple-converted-space"> </span>при выполнении команд со способом вызова<span class="Apple-converted-space"> </span><b>ВызовСерверногоМетода</b>. Результатом функции должна выступать таблица значений, содержащая сценарий выполнения дополнительной обработки.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для сохранения контекста выполнения дополнительной обработки в ходе выполнения сценария предлагается использовать специальную<span class="Apple-converted-space"> </span><b>коллекцию сохраняемых значений</b><span class="Apple-converted-space"> </span>– любой этап сценария может сохранить результат выполнения в эту коллекцию под определенным именем, а также запросить передачу в качестве параметра процедуры или функции любого из сохраненных значений либо же саму коллекцию.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">При реализации функции<span class="Apple-converted-space"> </span><b>СформироватьСценарий()</b><span class="Apple-converted-space"> </span>не следует вручную создавать структуру таблицы значений. Необходимо использовать следующие функции общего модуля<b>ДополнительныеОтчетыИОбработкиВБезопасномРежимеИнтерфейс</b>:</p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><b><span>НовыйСценарий()</span></b><span><span class="Apple-converted-space"> </span>– функция возвращает объект, который в дальнейшем должен рассматриваться как сценарий выполнения дополнительной обработки;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span>Функции по добавлению этапов в сценарий:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДобавитьМетодКонфигурации()</span></b><span><span class="Apple-converted-space"> </span>– добавляет в сценарий выполнения дополнительной обработки вызов процедуры или функции конфигурации. Результат, возвращаемый функцией, должен рассматриваться как этап сценария выполнения дополнительной обработки;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДобавитьМетодОбработки()</span></b><span><span class="Apple-converted-space"> </span>– добавляет в сценарий выполнения дополнительной обработки вызов процедуры или функции объекта дополнительной обработки. Результат, возвращаемый функцией, должен рассматриваться как этап сценария выполнения дополнительной обработки;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>●<span><span class="Apple-converted-space"> </span></span></span></span><span>Функции по заполнению параметров, которые будут переданы в процедуру или функцию конфигурации/объекта внешней обработки:</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДобавитьКлючСессии()</span></b><span><span class="Apple-converted-space"> </span>– добавляет в массив параметров текущий ключ сессии расширения безопасного режима;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДобавитьЗначение()</span></b><span><span class="Apple-converted-space"> </span>– добавляет в массив параметров фиксированное значение произвольного типа;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДобавитьСохраняемоеЗначение()</span></b><span><span class="Apple-converted-space"> </span>– добавляет в массив параметров сохраняемое значение;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДобавитьКоллекциюСохраняемыхЗначений()</span></b><span><span class="Apple-converted-space"> </span>– добавляет в массив параметров коллекцию сохраняемых значений;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДобавитьПараметрВыполненияКоманды()<span class="Apple-converted-space"> </span></span></b><span>– добавляет в массив параметров элемент структуры<span class="Apple-converted-space"> </span><b>ПараметрыВыполненияКоманды</b>;</span></p>
<p class="MsoNormal" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><span><span>o<span><span class="Apple-converted-space"> </span></span></span></span><b><span>ДобавитьОбъектыНазначения()</span></b><span><span class="Apple-converted-space"> </span>– добавляет в массив параметров массив объектов назначения (актуально только для назначаемых дополнительных обработок).</span></p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">При необходимости процесс выполнения сценария также может быть запущен с клиентского контекста дополнительной обработки (для команд со способом запуска<b>ОткрытиеФормы</b>) с помощью функции<span class="Apple-converted-space"> </span><b>ДополнительныеОтчетыИОбработкиВБезопасномРежимеВызовСервера.ВыполнитьСценарийВБезопасномРежиме()</b>.</p><a style="TEXT-DECORATION: ; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium 'Times New Roman'; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px" name="issogl2_настройкаобменаданными12">
<h4 style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana, Arial">Настройка обмена данными</h4></a><span style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(0,0,0); FONT: medium 'Times New Roman'; DISPLAY: inline !important; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"></span>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Все объекты метаданных подсистемы, содержащие данные, рекомендуется включать в планы обмена распределенной ИБ.</p>
<p class="philBody" style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: 10pt Verdana, Tahoma, Arial; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Для планов обмена автономного рабочего места (АРМ) в модели сервиса константу<span class="Apple-converted-space"> </span><b>ИспользоватьДополнительныеОтчетыИОбработки</b><span class="Apple-converted-space"> </span>следует включать в состав планов обмена, но не включать в состав подписок на события (выполняющих регистрацию данных при записи). Данное требование объясняется тем, что в автономном рабочем месте использование дополнительных отчетов и обработок настраивается независимо от их использования в экземпляре сервиса и должно передаваться только при создании начального образа.</p></body></html>